(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cx/cxtj"],{6603:function(t,e,n){},"74df":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={uDivider:function(){return n.e("uview-ui/components/u-divider/u-divider").then(n.bind(null,"57e8"))},uForm:function(){return n.e("uview-ui/components/u-form/u-form").then(n.bind(null,"d956"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"6448"))},uRadioGroup:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-radio-group/u-radio-group")]).then(n.bind(null,"3b8c"))},uRadio:function(){return n.e("uview-ui/components/u-radio/u-radio").then(n.bind(null,"f574"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-input/u-input")]).then(n.bind(null,"37d1"))},uSelect:function(){return n.e("uview-ui/components/u-select/u-select").then(n.bind(null,"0477"))},htzImageUpload:function(){return Promise.all([n.e("common/vendor"),n.e("components/htz-image-upload/htz-image-upload")]).then(n.bind(null,"868e"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"a25e"))},kzhTable:function(){return n.e("uni_modules/kzh-table/components/kzh-table/kzh-table").then(n.bind(null,"f502"))},kzhTr:function(){return n.e("uni_modules/kzh-table/components/kzh-tr/kzh-tr").then(n.bind(null,"9865"))},kzhTh:function(){return n.e("uni_modules/kzh-table/components/kzh-th/kzh-th").then(n.bind(null,"25db"))},kzhTd:function(){return n.e("uni_modules/kzh-table/components/kzh-td/kzh-td").then(n.bind(null,"a809"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"fd25"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"cec2"))},uniTable:function(){return n.e("uni_modules/uni-table/components/uni-table/uni-table").then(n.bind(null,"e66e"))},uniTr:function(){return n.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(n.bind(null,"88c5"))},uniTh:function(){return n.e("uni_modules/uni-table/components/uni-th/uni-th").then(n.bind(null,"9bd1"))},uniTd:function(){return n.e("uni_modules/uni-table/components/uni-td/uni-td").then(n.bind(null,"6b1a"))}},u=function(){var t=this,e=t.$createElement,n=(t._self._c,t.cxtj&&Object.keys(t.cxtj).length>0),i=n?t.__map(t.cxtj,(function(e,n){var i=t.__get_orig(e),u=2==t.zdsz[e].i?t.zdsz[e].xx.split("/"):null,s=2!=t.zdsz[e].i&&4==t.zdsz[e].i?t.dxselect(t.zdsz[e].xx,e):null,r=2!=t.zdsz[e].i&&4!=t.zdsz[e].i?t.texts.includes(Number(t.zdsz[e].i)):null,o=2!=t.zdsz[e].i&&4!=t.zdsz[e].i&&!r&&13==t.zdsz[e].i&&(e.name||e.sex||e.mz||e.day||e.ade||e.zmtp)?{key:e}:null;return{$orig:i,l0:u,m0:s,g1:r,a0:o}})):null,u=t.cxtj&&Object.keys(t.cxtj).length>0,s=t.cxjgs&&Object.keys(t.cxjgs).length>0,r=t.__map(t.cxjgs,(function(e,n){var i=t.__get_orig(e),u=s?t.__map(t.cxjgkeys,(function(n,i){var u=t.__get_orig(n),s=2!=t.zdsz[n].yc&&e[n]?t.texts.includes(Number(t.zdsz[n].i)):null,r=2!=t.zdsz[n].yc&&e[n]&&s?t.zjxh(t.zdsz[n].i,t.zdsz[n].zjxh,e[n]):null,o=2!=t.zdsz[n].yc&&e[n]&&s?t.zjxh(t.zdsz[n].i,t.zdsz[n].zjxh,e[n]):null,a=2!=t.zdsz[n].yc&&e[n]?Number(t.zdsz[n].i):null,d=2!=t.zdsz[n].yc&&e[n]&&12==a?t.zjxh(t.zdsz[n].i,t.zdsz[n].zjxh,e[n]):null,l=2!=t.zdsz[n].yc&&e[n]&&12==a?t.zjxh(t.zdsz[n].i,t.zdsz[n].zjxh,e[n]):null,c=2!=t.zdsz[n].yc&&e[n]?Number(t.zdsz[n].i):null,f=2!=t.zdsz[n].yc&&e[n]&&13==c?t.zjxh(t.zdsz[n].i,t.zdsz[n].zjxh,e[n]):null,z=2!=t.zdsz[n].yc&&e[n]&&13==c?t.zjxh(t.zdsz[n].i,t.zdsz[n].zjxh,e[n]):null,K=2==t.zdsz[n].yc||!e[n]||3!=t.zdsz[n].i&&5!=t.zdsz[n].i&&21!=t.zdsz[n].i?null:JSON.parse(e[n]).toString(),m=2!=t.zdsz[n].yc&&e[n]&&6==t.zdsz[n].i&&e[n]?JSON.parse(e[n]):null,h=2!=t.zdsz[n].yc&&e[n]?7==t.zdsz[n].i&&t.isJSON(e[n]):null,g=2!=t.zdsz[n].yc&&e[n]&&h?JSON.parse(e[n]):null,p=2!=t.zdsz[n].yc&&e[n]&&19==t.zdsz[n].i?JSON.parse(e[n]):null,b=2!=t.zdsz[n].yc&&e[n]&&20==t.zdsz[n].i?encodeURIComponent(e[n]):null;return{$orig:u,g4:s,m1:r,m2:o,m3:a,m4:d,m5:l,m6:c,m7:f,m8:z,g5:K,g6:m,m9:h,g7:g,l2:p,m10:b}})):null;return{$orig:i,l3:u}}));t._isMounted||(t.e0=function(e,n){var i=arguments[arguments.length-1].currentTarget.dataset,u=i.eventParams||i["event-params"];n=u.item;t.selectShow[n]=!0}),t.$mp.data=Object.assign({},{$root:{g0:n,l1:i,g2:u,g3:s,l4:r}})},s=[]},"75b8":function(t,e,n){"use strict";n.r(e);var i=n("abb2"),u=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=u.a},a30d:function(t,e,n){"use strict";n.r(e);var i=n("74df"),u=n("75b8");for(var s in u)"default"!==s&&function(t){n.d(e,t,(function(){return u[t]}))}(s);n("e27c");var r,o=n("f0c5"),a=Object(o["a"])(u["default"],i["b"],i["c"],!1,null,"1fa055c0",null,!1,i["a"],r);e["default"]=a.exports},abb2:function(t,e,n){"use strict";(function(t){function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function u(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){Promise.all([n.e("common/vendor"),n.e("components/htz-image-upload/htz-image-upload")]).then(function(){return resolve(n("868e"))}.bind(null,n)).catch(n.oe)},o={data:function(){return{id:"",bm:"",xmmc:"",userid:1,title:"",beizhu:"",zdsz:{},zd:{},cxtj:{},cxfs:1,kftb:1,cftb:2,tbtz:[1,2],cxjgkeys:[],keys:["K0","K1","K2","K3","K4","K5","K6","K7","K8","K9","K10","K11","K12","K13","K14","K15","K16","K17","K18","K19","K20","K21","K22","K23","K24","K25","K26","K27","K28","K29","K30","K31","K32","K33","K34","K35","K36","K37","K38","K39","K40","K41","K42","K43","K44","K45","K46","K47","K48","K49","K50","K51","K52","K53","K54","K55","K56","K57","K58","K59","K60"],cxjgs:{},texts:[0,1,2,4,8,9,10,11,14,15,16,17,22],image:{K0:[],K1:[],K2:[],K3:[],K4:[],K5:[],K6:[],K7:[],K8:[],K9:[],K10:[],K11:[],K12:[],K13:[],K14:[],K15:[],K16:[],K17:[],K18:[],K19:[],K20:[],K21:[],K22:[],K23:[],K24:[],K25:[],K26:[],K27:[],K28:[],K29:[],K30:[],K31:[],K32:[],K33:[],K34:[],K35:[],K36:[],K37:[],K38:[],K39:[],K40:[],K41:[],K42:[],K43:[],K44:[],K45:[],K46:[],K47:[],K48:[],K49:[],K50:[],K51:[],K52:[],K53:[],K54:[],K55:[],K56:[],K57:[],K58:[],K59:[],K60:[]},shzd:"",jzxg:"",shtz:"",model:{},input:{},wordfile:[],selectShow:{K0:!1,K1:!1,K2:!1,K3:!1,K4:!1,K5:!1,K6:!1,K7:!1,K8:!1,K9:!1,K10:!1,K11:!1,K12:!1,K13:!1,K14:!1,K15:!1,K16:!1,K17:!1,K18:!1,K19:!1,K20:!1,K21:!1,K22:!1,K23:!1,K24:!1,K25:!1,K26:!1,K27:!1,K28:!1,K29:!1,K30:!1,K31:!1,K32:!1,K33:!1,K34:!1,K35:!1,K36:!1,K37:!1,K38:!1,K39:!1,K40:!1,K41:!1,K42:!1,K43:!1,K44:!1,K45:!1,K46:!1,K47:!1,K48:!1,K49:!1,K50:!1,K51:!1,K52:!1,K53:!1,K54:!1,K55:!1,K56:!1,K57:!1,K58:!1,K59:!1,K60:!1},customStyle:{margin:"10rpx"},style:{p:"line-height:1.6;"},login:!1,userInfo:{},loading:!1,bzb:"",action:getApp().globalData.url+"/uploadimg",actionbd:getApp().globalData.url+"/admin/idcardocr",sizetype:["compressed"],pmwidth:1e3}},onBackPress:function(t){return!!this.tbtz.includes(5)},onLoad:function(e){var n=this;e.id?(this.id=e.id,this.userid=e.userid?e.userid:1,this.loading=!0,t.getSystemInfo({success:function(t){n.pmwidth=t.windowWidth}}),t.request({url:getApp().globalData.url+"/cx/cxtj",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t.getStorageSync("userInfo").token},data:{ID:this.id},success:function(e){if(401!=e.statusCode||"2"!=getApp().globalData.data.islogin){if(200!==e.statusCode)return n.$u.toast("服务器无法连接");if(1==e.data.code)return n.$u.toast(e.data.message);if(e.data.result){for(var i in n.cxtj=e.data.result.Cxtj,n.zd=e.data.result.Zd,n.bm=e.data.result.Bm,n.xmmc=e.data.result.Xmmc,n.beizhu=e.data.result.Beizhu,n.zdsz=e.data.result.Zdsz,n.cxfs=e.data.result.Cxfs,n.kftb=e.data.result.Kftb,n.cftb=e.data.result.Cftb,n.tbtz=e.data.result.Tbtz,n.wordfile=e.data.result.Word,n.zdsz)19==n.zdsz[i].i&&(n.bzb=i),17==n.zdsz[i].i&&(n.shzd=i,n.jzxg=n.zdsz[i].jzxg?n.zdsz[i].jzxg:"",n.shtz=n.zdsz[i].tz?n.zdsz[i].tz:"");n.tbtz.includes(5),n.loading=!1}}else t.showToast({title:"登录已过期",success:function(e){setTimeout((function(){t.removeStorageSync("userInfo"),t.navigateTo({url:"/pages/user/login"})}),600)}})}})):(this.$u.toast("参数错误"),setTimeout((function(){t.navigateTo({url:"/pages/cx/cx"})}),500))},components:{htzImageUpload:r},methods:{copyText:function(e){console.log(e),t.setClipboardData({data:e,success:function(){t.showToast({title:"已复制到剪贴板",icon:"none",position:"top"})}})},zjxh:function(t,e,n){if(!n)return"";if(2!=e)return n;if(13==t)return n.replace(/^(.{6})(?:\w+)(.{4})$/,"$1********$2");if(12==t)return n.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2");var i,u=n;if(2===u.length)i=u.substr(0,1)+"*";else if(u.length>2){for(var s="",r=0,o=u.length-2;r<o;r++)s+="*";i=u.substr(0,1)+s+u.substr(-1,1)}else i=u;return i},zidingyiSuccess:function(e){var n=this,i=JSON.parse(e.data);if(0!=i.code)return this.$u.toast("图片上传失败");var u=i.message,s=i.result;this.image[u].push(s),t.request({url:this.actionbd,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t.getStorageSync("userInfo").token},data:{imgurl:s},success:function(e){if(401!=e.statusCode||"2"!=getApp().globalData.data.islogin){if(0!=e.data.code)return n.$u.toast(e.data.message);var i=e.data.result.words_result;if(!i)return n.$u.toast(e.data.result.error_msg);var r={};r.name=i.姓名.words,r.sex=i.性别.words,r.mz=i.民族.words;var o=i.出生.words;r.day=o.substr(0,4)+"-"+o.substr(4,2)+"-"+o.substr(6,2),r.ade=i.住址.words,r.zmtp=JSON.stringify([s]);var a=i.公民身份号码.words;n.model[u]=a;var d=n.zdsz[u];for(var l in d)["ade","day","sex","name","zmtp","mz"].includes(l)&&d[l]&&n.cxtj.includes(d[l])&&(n.model[d[l]]=r[l]);n.$forceUpdate()}else t.showToast({title:"登录已过期",success:function(e){setTimeout((function(){t.removeStorageSync("userInfo"),t.navigateTo({url:"/pages/user/login"})}),600)}})}})},dxselect:function(t,e){return t?t.split("/").map((function(t){return{value:e,label:t}})):[]},confirm:function(t){var e=t.shift(),n=e.value;this.model[n]=e.label},submit:function(e){var n=this;this.cxjgs={},this.cxjgkeys=[];var u=this.model,s=!0,r={};for(var o in u)if(u[o])r[o]=u[o];else if(2==this.cxfs)s=!1;if(this.$u.test.isEmpty(r))s=!1;if(console.log("验证",s),s){for(var a in r){if(12==this.zdsz[a].i&&!this.$u.test.mobile(r[a]))return this.$u.toast("手机号格式不正确！");if(13==this.zdsz[a].i&&!this.$u.test.idCard(r[a]))return this.$u.toast("身份证号格式不正确！")}this.input=r,t.request({url:getApp().globalData.url+"/cx/cxjg",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t.getStorageSync("userInfo").token},data:{id:this.id,zd:JSON.stringify(this.zd),input:JSON.stringify(this.input)},success:function(e){if(401!=e.statusCode||"2"!=getApp().globalData.data.islogin){if(200!==e.statusCode)return n.$u.toast("服务器无法连接");if(1==e.data.code)return n.$u.toast(e.data.message);if(2==e.data.code){if(2!=n.kftb||2!=n.cftb)return n.$u.toast(e.data.message);t.navigateTo({url:"/pages/form/form?zt=0&id="+n.id+"&oldform="+JSON.stringify(n.input)+"&userid="+n.userid})}else{if(n.cxjgs=e.data.result,!n.cxjgs)return n.$u.toast(e.data.message);var u,s=[],r=Object.keys(n.cxjgs[0]),o=i(n.keys);try{for(o.s();!(u=o.n()).done;){var a=u.value;r.includes(a)&&s.push(a),n.shzd&&n.shzd==a&&n.jzxg&&n.cxjgs[0][a]==n.jzxg&&n.shtz&&n.$u.test.url(n.shtz)&&t.navigateTo({url:"/pages/form/webview?url="+encodeURIComponent(n.shtz)})}}catch(d){o.e(d)}finally{o.f()}n.cxjgkeys=s}}else t.showToast({title:"登录已过期",success:function(e){setTimeout((function(){t.removeStorageSync("userInfo"),t.navigateTo({url:"/pages/user/login"})}),600)}})}})}else t.showToast({title:"请填写完整！",icon:"none"})},onShow:function(){this.cxjgs={}},reset:function(){this.cxjgs={},this.$refs.uForm.resetFields()},edit:function(e){t.navigateTo({url:"/pages/form/formedit?id="+this.id+"&jgid="+e})},create:function(){t.navigateTo({url:"/pages/form/form?zt=0&id="+this.id+"&oldform="+JSON.stringify(this.input)+"&userid="+this.userid})},fhsy:function(){t.navigateBack()},previewImage:function(e){e=this.isJSON(e)?JSON.parse(e):[e];t.previewImage({urls:e})},isJSON:function(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=typeof e||!e)}catch(n){return!1}}}};e.default=o}).call(this,n("543d")["default"])},e27c:function(t,e,n){"use strict";var i=n("6603"),u=n.n(i);u.a},fe1f:function(t,e,n){"use strict";(function(t){n("98dd");i(n("66fd"));var e=i(n("a30d"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])}},[["fe1f","common/runtime","common/vendor"]]]);